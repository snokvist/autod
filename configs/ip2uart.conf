# Sample configuration for ip2uart
# The file uses simple key=value pairs. Lines beginning with # are comments.

# Select which side drives the UART interface.
uart_backend=tty          # tty | stdio

# UART parameters (only when uart_backend=tty).
uart_device=/dev/ttyS2
uart_baud=420000
uart_databits=8           # 5..8
uart_parity=none          # none | even | odd
uart_stopbits=1           # 1 | 2
uart_flow=none            # none | rtscts

# Choose the network mode: tcp_server, tcp_client, or udp_peer.
net_mode=udp_peer

# TCP server settings (net_mode=tcp_server).
listen_addr=0.0.0.0
listen_port=5760
tcp_listen_backlog=8      # queue depth for pending TCP accepts

# TCP client settings (net_mode=tcp_client).
remote_host=127.0.0.1
remote_port=5760
reconnect_delay_ms=1000   # wait before reconnect attempts
tcp_nodelay=1             # 1 disables Nagle, 0 keeps it enabled

# UDP peer settings (net_mode=udp_peer).
udp_bind_addr=0.0.0.0
udp_bind_port=14550
# leave blank to auto-learn the peer from inbound packets
udp_peer_addr=
udp_peer_port=14550

# UDP coalescing thresholds (net_mode=udp_peer).
udp_coalesce_bytes=1200   # flush once this many bytes accumulate
udp_coalesce_idle_ms=5    # or if idle for this many milliseconds
udp_max_datagram=1200     # safety cap

# Logging and periodic status snapshots.
log_file=/tmp/ip2uart.log
dump_on_start=1
status_interval_ms=250      # 0 disables periodic writes
expected_hz=125             # optional packets-per-second target (0 disables scoring)

# Scratch buffer sizes (bytes) for ring buffers and inbound reads.
rx_buf=65536
tx_buf=65536
