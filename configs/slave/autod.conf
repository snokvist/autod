; Example slave configuration. Copy to /etc/autod/autod.conf on slave nodes.

[server]
port=55667
bind=0.0.0.0
enable_scan = 1

[scan]
# Optionally probe additional CIDR blocks beyond detected interfaces.
# Repeat extra_subnet lines as needed, e.g.:
# extra_subnet = 10.10.10.0/24
; single host example
extra_subnet = 192.168.0.1/32

[exec]
interpreter=/usr/local/share/autod/vrx/exec-handler.sh
timeout_ms=5000
max_output_bytes=16384

[caps]
device=radxa-3e
role=vrx
version=1.0.0
caps=vrx,joystick2crsf,pixelpilot_mini_rk,dvr,link,exec,udp_relay,device,nodes,udp_sender
include_net_info=1

[announce]
sse=pixelpilot_mini_rk@http://IP:8082/stats
sse=joystick2crsf@http://IP:8070/sse

[ui]
serve_ui=1
ui_path=/usr/local/share/autod/vrx/vrx_index.html
ui_public=1

[sync]
# Configure the slave to bind to a discovered master using its sync identifier.
role=slave
master_url=sync://radxa-3e-master
# Seconds between slave registrations/heartbeats.
register_interval_s=30
# Allow POST /sync/bind to update the slave master_url at runtime.
allow_bind=1
# Optional explicit identifier. Defaults to hostname if omitted.
; id=alpha-node  ; match the master's prefer_id to claim a reserved slot

[startup]
# Each exec line should be a JSON body accepted by POST /exec.
# Commands run sequentially once the HTTP server and background threads are ready.
; exec={"path":"/usr/local/bin/autod-ready","args":["--online"]}
