# antenna_osd.conf – sample configuration for the MSP/Canvas OSD renderer
# Lines beginning with # are ignored. Values follow key=value syntax.

# --- Output target and cadence ---
# OSD frames are written to out_file at the configured interval (seconds).
out_file=/tmp/MSPOSD.msg
interval=0.275

# --- Layout and glyphs ---
bar_width=37
# Define the top/bottom of the RSSI scale (percentage thresholds).
top=70
bottom=20
# If the secondary RSSI bar should scale differently, override its thresholds here.
top2=70
bottom2=5
# Bracket characters around each RSSI bar; empty_sym fills unused cells.
start_sym=[
end_sym=]
empty_sym=.
# When a secondary RSSI bar is enabled, you can give it its own framing glyphs.
start_sym2={
end_sym2=}
empty_sym2=·

# --- Headers and colors ---
# osd_hdr prefixes the main RSSI bar line when rssi_control=0 or when the
# current RSSI falls into the range-specific header below.
osd_hdr=&F24&L31
rssi_control=1
rssi_range0_hdr=&F24&L61&G0                                                    
rssi_range1_hdr=&F24&L61&G8                                                        
rssi_range2_hdr=&F24&L51&G9                                                    
rssi_range3_hdr=&F24&L51&G9                                                        
rssi_range4_hdr=&F24&L31&G9                                                    
rssi_range5_hdr=&F24&L31&G9 
# osd_hdr2 is appended to the stats row when show_stats_line>0.
osd_hdr2=&F20&L30
# sys_msg_hdr colors/emphasizes the transient system-message row.
sys_msg_hdr=&F44
sys_msg_timeout=10

# --- Telemetry sources ---
# The renderer can poll up to two telemetry files; prefix metric keys with
# file1: or file2: to pick a source when both are present. Legacy "info_file"
# keys still work, but the telemetry_* names read more clearly here.
telemetry_file=/tmp/aalink_ext.msg
# telemetry_secondary=/tmp/aalink_radio.msg

# RSSI and stats keys (override these if your telemetry uses different names).
# The signal_* keys feed the RSSI bars; the stats_* keys shape the MCS/bandwidth
#/power trio on the optional stats line. Legacy names (rssi_key, curr_tx_*_key,
# tx_power_key) remain supported for backwards compatibility.
signal_strength_key=file1:used_rssi
stats_mcs_key=file1:mcs
stats_bw_key=file1:width
# Toggle a second RSSI bar and point it at any available metric.
secondary_rssi_enable=0
secondary_rssi_key=file1:rssi_2
# TX power is displayed in the stats row when enabled by show_stats_line.
stats_tx_power_key=txpwr

# --- Stats line control ---
# show_stats_line chooses how much of the secondary row to render:
#   0: disabled
#   1: header only (uses osd_hdr2 after the &B marker)
#   2: MCS / bandwidth / TX power values
#   3: Temperature/CPU prefix + MCS / bandwidth / TX power values
show_stats_line=1
# When info_file2 is set, remember to prefix each *_key with file1: or file2:
# so the renderer knows which telemetry source to read from.
